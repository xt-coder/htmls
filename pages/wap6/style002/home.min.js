var client_ip = typeof client_ip == "undefined" ? "222.168.128.14": client_ip; (function() {
    $(function() {
        function b() {
            var n = $(".j_backTop");
            if (n.length > 0) {
                n.click(function() {
                    window.scrollTo(0, 0)
                })
            }
        }
        function d(n) {
            if (typeof window.onscroll == "function") {
                var o = window.onscroll;
                window.onscroll = function() {
                    o();
                    n()
                }
            } else {
                window.onscroll = function() {
                    n()
                }
            }
        }
        function c(o) {
            var p = document.getElementsByTagName("head")[0],
            n = document.createElement("script");
            n.src = o;
            n.charset = "utf-8";
            p.appendChild(n)
        }
        function l() {
            if (document.querySelector("#j_weibo_remind") != null) {
                if (!sid || !gsid) {
                    return false
                }
                var n = "../api.weibo.cn/interface/f/ttt/v3/getunreadnum.php@type=js&c=sina_cn&s=" + sid + "&unixtimestamp=" + timestamp + "&gsid=" + gsid + "&callback=weiboRemindCallback";
                c(n)
            }
        }
        window.weiboRemindCallback = function(p) {
            if (typeof p.errno != "undefined") {
                return false
            } else {
                var n = document.querySelector("#j_weibo_remind"),
                o = parseInt(p.comment) + parseInt(p.message) + parseInt(p.notice) + parseInt(p.atmsg) + parseInt(p.atcmt) + parseInt(p.newfans);
                if (o > 0) {
                    o = (o > 99) ? "99+": o;
                    n.innerHTML = o;
                    n.style.display = "block"
                }
            }
        };
        function e(u) {
            var r = $("#" + u + " .swiper-container");
            if (r.length > 0) {
                var t = "",
                n = 0,
                p = 0,
                o = null,
                s = null;
                var q = r.swiper({
                    pagination: "#" + u + " .pagination",
                    loop: true,
                    speed: 600,
                    autoplay: 4000,
                    keyboardControl: true,
                    mousewheelControl: true,
                    paginationClickable: true,
                    onSlideChangeEnd: function() {
                        for (var v = 0; v < n; v++) {
                            s = o.eq(v);
                            if (s.length > 0 && (s.attr("data-imgdelay") != 1)) {
                                t = s.attr("data-src");
                                if (t && t != "") {
                                    s.attr("src", t)
                                }
                                s.attr("data-imgdelay", "1")
                            }
                        }
                    }
                });
                o = r.find("img.img");
                n = o.length;
                p = q.activeIndex;
                s = o.eq(p - 1);
                if (s.length > 0 && (s.attr("data-imgdelay") != 1)) {
                    t = s.attr("data-src");
                    if (t && t != "") {
                        s.attr("src", t)
                    }
                    s.attr("data-imgdelay", "1")
                }
            }
        }
        function k() {
            var p = $(".j_ptotos_swiper"),
            n = p.length;
            if (n == 0) {
                return false
            }
            var o, q = "";
            for (o = 0; o < n; o++) {
                q = "j_photos_swiper_" + o;
                p.eq(o).attr("id", q);
                e(q)
            }
        }
        function a() {
            var q = $(".j_imgdelay"),
            n = q.length,
            p = 0;
            if (n == 0) {
                return false
            }
            var o = document.documentElement.clientHeight;
            o = o * 2;
            function s() {
                if (p >= n) {
                    return false
                }
                for (var u = 0; u < n; u++) {
                    var v = q.eq(u);
                    if (v.data("imgdelay") === 1) {
                        continue
                    }
                    var z = document.body.scrollTop || document.documentElement.scrollTop,
                    x = o + z;
                    if (v.offset().top < x) {
                        var w = v.find("img"),
                        y = w.length;
                        for (var t = 0; t < y; t++) {
                            var A = w.eq(t);
                            A.attr("src", A.data("src"))
                        }
                        v.data("imgdelay", "1");
                        p = p + 1
                    }
                }
            }
            var r;
            d(function() {
                if (r) {
                    clearTimeout(r);
                    r = null
                }
                r = setTimeout(s, 200)
            })
        }
        function g(n) {
            var o = null;
            o = function(y, v, w) {
                var u = document.getElementById("marqueebox"),
                q = $(u).find("li");
                if (q.length < 2) {
                    return false
                }
                var z = null,
                s = null,
                x = null,
                r = false;
                if (n && (n == "init")) {
                    u.innerHTML += u.innerHTML
                }
                u.scrollTop = 0;
                s = function() {
                    z = setInterval(x, v);
                    if (!r) {
                        u.scrollTop += 1
                    }
                };
                x = function() {
                    if ((u.scrollTop % y) != 0) {
                        u.scrollTop += 1;
                        if (u.scrollTop >= u.scrollHeight / 2) {
                            u.scrollTop = 0
                        }
                    } else {
                        if (z) {
                            clearInterval(z);
                            z = null
                        }
                        setTimeout(s, w)
                    }
                };
                setTimeout(s, w)
            };
            o(34, 10, 3000)
        }
        window.onpageshow = function() {
            setTimeout(function() {
                g()
            },
            0)
        };
        setTimeout(function() {
            k();
            a();
            b();
            g("init")
        },
        300);
        setTimeout(function() {
            l();
            f()
        },
        1000);
        function f() {
            var n = "";
            c(n)
        }
        var j = $("#j_leju_pics"),
        h = $("#j_leju_news"),
        m = $("#j_leju_link");
        window.LejuDataCallback = function(p) {
            if (p.status == "1") {
                var q = p.data.pics,
                o = p.data.news,
                r = "";
                if (q && q.length > 0) {
                    for (i = 0; i < q.length; i++) {
                        r += '<li><a href="' + q[i].link + '" title="' + q[i].title + '"><img src="' + q[i].src + '" alt="' + q[i].title + '"/><h3 class="p_piclistbox_h3">' + q[i].title + "</h3></a></li>"
                    }
                }
                j.html(r);
                if (o && o.length > 1) {
                    for (i = 0, r = ""; i < 2; i++) {
                        r += '<li><a href="' + o[i].link + '">' + o[i].title + "</a></li>"
                    }
                }
                h.html(r);
                if (o && o.length > 2) {
                    var n = 0;
                    for (i = 2, r = ""; i < o.length; i++) {
                        if (n + o[i].title.length < 16 && o[i].link != "" && o[i].title != "") {
                            r += '<a href="' + o[i].link + '">' + o[i].title + "</a>";
                            n += o[i].title.length
                        }
                    }
                }
                m.html(r)
            }
        }
    })
})();